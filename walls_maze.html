<html>
<head>
	<!-- Import P5 -->
	<script src="https://cdnjs.cloudflare.com/ajax/libs/p5.js/0.6.0/p5.js"></script>
</head>
<body>
	<script type='text/javascript'>
		var CANVAS_SIDE_LENGTH = 800;
		var ROOMS_PER_EDGE = 8;
		var WALL_SIZE = CANVAS_SIDE_LENGTH / ROOMS_PER_EDGE;
		var grid;

		function setup() {
			createCanvas(CANVAS_SIDE_LENGTH, CANVAS_SIDE_LENGTH);
			background('white');

			grid = [];

			for (var i = 0; i < ROOMS_PER_EDGE; i++) {
				var row = []
				for (var j = 0; j < ROOMS_PER_EDGE; j++) {
					var newRoom = {
						hasNorthWall: true,
						hasEastWall: true,
						hasSouthWall: true,
						hasWestWall: true,
					}

					row.push(newRoom);
				}

				grid.push(row);
			}
		}

		function draw() {
			strokeWeight(4)
			grid.forEach((row, i) => {
				row.forEach((room, j) => {
					var topRightX = j * WALL_SIZE;
					var topRightY = i * WALL_SIZE;

					if (room.hasNorthWall) {
						line(topRightX, topRightY, topRightX + WALL_SIZE, topRightY);
					}

					if (room.hasEastWall) {
						line(topRightX + WALL_SIZE, topRightY, topRightX + WALL_SIZE, topRightY + WALL_SIZE);
					}

					if (room.hasSouthWall) {
						line(topRightX, topRightY + WALL_SIZE, topRightX + WALL_SIZE, topRightY + WALL_SIZE);
					}

					if (room.hasWestWall) {
						line(topRightX, topRightY, topRightX , topRightY + WALL_SIZE);
					}
				});
			});
		}
	</script>

</body>
</html>
